<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC Verification - Agentryxx</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700;800&family=Inter:wght@400;500;600&family=DM+Sans:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>
    <div class="glow glow-3"></div>

    <div class="container">
        <nav>
            <div class="logo">Agentry<span class="xx">xx</span></div>
            <a href="dashboard_dev.html" class="btn btn-secondary">Go Back</a>
        </nav>

        <section class="hero">
            <h1>Identity Verification</h1>
            <p>Complete your KYC to access full platform features and start earning.</p>
            
            <div class="card" style="max-width: 600px; margin: 40px auto;">
                <h3>Identity Verification Form</h3>
                <p>Please provide the following information for developer verification:</p>
                
                <form class="kyc-form" id="kycForm">
                    <!-- Personal Information -->
                    <div class="form-field">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" name="fullName" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="streetNumber">Street & No</label>
                        <input type="text" id="streetNumber" name="streetNumber" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="postcode">Postcode</label>
                        <input type="text" id="postcode" name="postcode" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="city">City</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="dateOfBirth">Date of Birth (tt.mm.jjjj)</label>
                        <input type="text" id="dateOfBirth" name="dateOfBirth" placeholder="dd.mm.yyyy" pattern="\d{2}\.\d{2}\.\d{4}" required>
                    </div>
                    
                    <div class="form-field">
                        <label for="passportId">Passport ID</label>
                        <input type="text" id="passportId" name="passportId" required>
                    </div>
                    
                    <!-- Document Upload -->
                    <div class="form-field file-field">
                        <label for="idDocument">ID Upload</label>
                        <input type="file" id="idDocument" name="idDocument" accept=".jpg,.jpeg,.png,.pdf" required>
                        <small>Accepted formats: JPG, PNG, PDF (Max 3MB)</small>
                    </div>
                    
                    <!-- Compliance Checkboxes -->
                    <div class="form-field checkbox-field">
                        <input type="checkbox" id="certificateGoodConduct" name="certificateGoodConduct" required>
                        <label for="certificateGoodConduct">I have a certificate of good conduct</label>
                    </div>
                    
                    <div class="form-field checkbox-field">
                        <input type="checkbox" id="gdprConsent" name="gdprConsent" required>
                        <label for="gdprConsent">I agree to GDPR terms and consent to receive emails</label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary form-submit" id="submitBtn" disabled>Submit for Verification</button>
                </form>
            </div>
            
            <div style="margin-top: 24px;">
                <a href="create-agent.html" style="color: var(--cyan); text-decoration: none;">Continue with onboarding</a>
            </div>
        </section>
    </div>

    <script src="../assets/starfield.js"></script>
    <script src="../assets/toaster.js"></script>
    <script src="../assets/app.js"></script>
    <script src="../assets/supabase-config.js"></script>
    <script src="../assets/otp-verification.js"></script>
    <script src="../assets/form-validation.js"></script>
    
    <script>
        // KYC Form Validation
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('kycForm');
            const submitBtn = document.getElementById('submitBtn');
            const requiredFields = form.querySelectorAll('input[required], textarea[required]');
            const checkboxes = form.querySelectorAll('input[type="checkbox"][required]');
            
            function validateForm() {
                let allFieldsFilled = true;
                let allCheckboxesChecked = true;
                
                // Check all required fields
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        allFieldsFilled = false;
                    }
                });
                
                // Check all required checkboxes
                checkboxes.forEach(checkbox => {
                    if (!checkbox.checked) {
                        allCheckboxesChecked = false;
                    }
                });
                
                // Enable/disable submit button
                if (allFieldsFilled && allCheckboxesChecked) {
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('btn-secondary');
                    submitBtn.classList.add('btn-primary');
                } else {
                    submitBtn.disabled = true;
                    submitBtn.classList.remove('btn-primary');
                    submitBtn.classList.add('btn-secondary');
                }
            }
            
            // Add event listeners to all form elements
            [...requiredFields, ...checkboxes].forEach(element => {
                element.addEventListener('input', validateForm);
                element.addEventListener('change', validateForm);
            });
            
            // Initial validation
            validateForm();
            
            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (!submitBtn.disabled) {
                    // Here you would typically submit the form data
                    console.log('Form submitted successfully');
                    alert('KYC form submitted successfully!');
                }
            });
        });
    </script>
</body>
</html>
